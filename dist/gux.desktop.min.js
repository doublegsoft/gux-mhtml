function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _regeneratorRuntime(){_regeneratorRuntime=function(){return a};var c,a={},t=Object.prototype,l=t.hasOwnProperty,u=Object.defineProperty||function(t,e,n){t[e]=n.value},e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",n=e.asyncIterator||"@@asyncIterator",i=e.toStringTag||"@@toStringTag";function o(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{o({},"")}catch(c){o=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var i,o,a,s,e=e&&e.prototype instanceof v?e:v,e=Object.create(e.prototype),r=new L(r||[]);return u(e,"_invoke",{value:(i=t,o=n,a=r,s=p,function(t,e){if(s===h)throw Error("Generator is already running");if(s===m){if("throw"===t)throw e;return{value:c,done:!0}}for(a.method=t,a.arg=e;;){var n=a.delegate;if(n){n=function t(e,n){var r=n.method,i=e.iterator[r];if(i===c)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=c,t(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;r=d(i,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,g;i=r.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=c),n.delegate=null,g):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}(n,a);if(n){if(n===g)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===p)throw s=m,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=h;n=d(i,o,a);if("normal"===n.type){if(s=a.done?m:f,n.arg===g)continue;return{value:n.arg,done:a.done}}"throw"===n.type&&(s=m,a.method="throw",a.arg=n.arg)}})}),e}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}a.wrap=s;var p="suspendedStart",f="suspendedYield",h="executing",m="completed",g={};function v(){}function y(){}function b(){}var e={},x=(o(e,r,function(){return this}),Object.getPrototypeOf),x=x&&x(x(k([]))),w=(x&&x!==t&&l.call(x,r)&&(e=x),b.prototype=v.prototype=Object.create(e));function O(t){["next","throw","return"].forEach(function(e){o(t,e,function(t){return this._invoke(e,t)})})}function R(a,s){var e;u(this,"_invoke",{value:function(n,r){function t(){return new s(function(t,e){!function e(t,n,r,i){var o,t=d(a[t],a,n);if("throw"!==t.type)return(n=(o=t.arg).value)&&"object"==_typeof(n)&&l.call(n,"__await")?s.resolve(n.__await).then(function(t){e("next",t,r,i)},function(t){e("throw",t,r,i)}):s.resolve(n).then(function(t){o.value=t,r(o)},function(t){return e("throw",t,r,i)});i(t.arg)}(n,r,t,e)})}return e=e?e.then(t,t):t()}})}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function k(e){if(e||""===e){var n,t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return n=-1,(t=function t(){for(;++n<e.length;)if(l.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=c,t.done=!0,t}).next=t}throw new TypeError(_typeof(e)+" is not iterable")}return u(w,"constructor",{value:y.prototype=b,configurable:!0}),u(b,"constructor",{value:y,configurable:!0}),y.displayName=o(b,i,"GeneratorFunction"),a.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,o(t,i,"GeneratorFunction")),t.prototype=Object.create(w),t},a.awrap=function(t){return{__await:t}},O(R.prototype),o(R.prototype,n,function(){return this}),a.AsyncIterator=R,a.async=function(t,e,n,r,i){void 0===i&&(i=Promise);var o=new R(s(t,e,n,r),i);return a.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},O(w),o(w,i,"Generator"),o(w,r,function(){return this}),o(w,"toString",function(){return"[object Generator]"}),a.keys=function(t){var e,n=Object(t),r=[];for(e in n)r.push(e);return r.reverse(),function t(){for(;r.length;){var e=r.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},a.values=k,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&l.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function t(t,e){return o.type="throw",o.arg=n,r.next=t,e&&(r.method="next",r.arg=c),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var i=this.tryEntries[e],o=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var a=l.call(i,"catchLoc"),s=l.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&l.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}var o=(i=i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc?null:i)?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n,r,i=this.tryEntries[e];if(i.tryLoc===t)return"throw"===(n=i.completion).type&&(r=n.arg,E(i)),r}throw Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:k(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=c),g}},a}function asyncGeneratorStep(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function _asyncToGenerator(s){return function(){var t=this,a=arguments;return new Promise(function(e,n){var r=s.apply(t,a);function i(t){asyncGeneratorStep(r,e,n,i,o,"next",t)}function o(t){asyncGeneratorStep(r,e,n,i,o,"throw",t)}i(void 0)})}}dom={create:function(t){for(var e=Array.prototype.slice.call(arguments,1),n=document.createElement(t),r=0;r<e.length;r++)n.classList.add(e[r]);return n},append:function(t,e,n){var r=dom.create("div");r.style.height="100%",r.style.width="100%",n=n||!1;e=document.createRange().createContextualFragment(e),!1!==n&&(t.innerHTML=""),t.appendChild(r),r.appendChild(e),n=dom.find("[id^=page]",r);return n?r.setAttribute("page-id",n.id):r.setAttribute("page-id","page.not.in.database"),{id:n?n.id:"",container:r}},find:function(t,e){return e=e||document,"string"!=typeof t?t:0==(e=e.querySelectorAll(t)).length?null:1==e.length?e[0]:e},ancestor:function(t,e,n){var r=null;if(n=n||"",null==(r="string"==typeof t?document.querySelector(t):t))return null;e=e.toUpperCase();var i=r;if(""==n)for(;null!=i&&i.tagName!=e;)i=i.parentElement;else for(;null!=i&&(i.tagName!=e||!i.classList.contains(n));)i=i.parentElement;return i},element:function(t){var e=document.createElement("div");return e.innerHTML=t,e.firstElementChild},bind:function(t,e,n){var r=null;null!=(r="string"==typeof t?document.querySelector(t):t)&&r&&r.addEventListener(e,n)},model:function(t,e){var n,r=null,r="string"==typeof t?document.querySelector(t):t;if(void 0===e)return n={},Array.prototype.slice.call(r.attributes).forEach(function(e){if(0==e.name.indexOf("data-model-"))if(0==e.value.indexOf("{"))try{n[utils.nameVar(e.name.slice("data-model-".length))]=JSON.parse(e.value)}catch(t){n[utils.nameVar(e.name.slice("data-model-".length))]=e.value}else n[utils.nameVar(e.name.slice("data-model-".length))]=e.value}),n;var i=Array.prototype.slice.call(arguments,2);if(0==i.length)for(var o in e)0!=o.indexOf("||")&&0!=o.indexOf("//")&&0!=o.indexOf(">>")&&("object"===_typeof(e[o])?r.setAttribute(utils.nameAttr(o),JSON.stringify(e[o])):r.setAttribute(utils.nameAttr(o),e[o]));else for(var a=0;a<i.length;a++){var s=i[a];0!=s.indexOf("||")&&0!=s.indexOf("//")&&0!=s.indexOf(">>")&&("object"===_typeof(e[s])?r.setAttribute(utils.nameAttr(s),JSON.stringify(e[s])):r.setAttribute(utils.nameAttr(s),e[s]))}},collect:function(t,e){for(var n=[],r=document.querySelectorAll(t),i=0;i<r.length;i++){var o={};if(Array.isArray(e))for(var a=0;a<e.length;a++)o[e[a]]=r[i].getAttribute(utils.nameAttr(e[a]));else o[e]=r.getAttribute(utils.nameAttr(e[j]));n.push(o)}return n},propagate:function(t,e,n,r){var i=r(e);if(Array.isArray(n))for(var o=0;o<n.length;o++)i.setAttribute(utils.nameAttr(n[o]),e[n[o]]);else i.setAttribute(utils.nameAttr(n),e[n]);t.appendChild(i)},toggle:function(t,h){for(var e=document.querySelectorAll(t),n=0;n<e.length;n++)e[n].addEventListener("click",function(){for(var t=this.getAttribute("data-toggle").split(">>"),e=t[0].split("+"),n=t[1].split("+"),r=!1,i=0;i<e.length;i++){var o=e[i].trim();r=0==o.indexOf(".")?this.classList.contains(o.substring(1)):null!=this.querySelector(o)}if(r){for(var a=0;a<n.length;a++){var s=n[a].trim();0===s.indexOf(".")?this.classList.add(s.substring(1)):this.querySelector(s.substring(0,s.indexOf("."))).classList.add(s.substring(s.indexOf(".")+1))}for(var c=0;c<e.length;c++){var l=e[c].trim();0==l.indexOf(".")?this.classList.remove(l.substring(1)):this.querySelector(l).classList.remove(l.substring(l.indexOf(".")+1))}}else{for(var u=0;u<e.length;u++){var d=e[u].trim();0==d.indexOf(".")?this.classList.add(d.substring(1)):this.querySelector(d.substring(0,d.indexOf("."))).classList.add(d.substring(d.indexOf(".")+1))}for(var p=0;p<n.length;p++){var f=n[p].trim();0==f.indexOf(".")?this.classList.remove(f.substring(1)):this.querySelector(f).classList.remove(f.substring(f.indexOf(".")+1))}h&&resovle(this)}})}},dom.switch=function(t,i){for(var o=dom.find(t),a=o.getAttribute("data-switch").split("+"),e=o.querySelectorAll(a[0]),n=0;n<e.length;n++)!function(){var r=e[n];r.onclick=function(t){for(var e=o.querySelectorAll(a[0]),n=0;n<e.length;n++)e[n].classList.remove(a[1].substring(1));r.classList.add(a[1].substring(1)),i&&i(r)}}()},dom.tabs=function(t){var r=dom.find(t);if(null!=r)for(var i=r.getAttribute("data-tab-active-class"),e=0;e<r.children.length;e++)!function(){var n=r.children[e];n.addEventListener("click",function(t){for(var e=0;e<r.children.length;e++)r.children[e].classList.remove(i);n.classList.add(i)})}()},dom.top=function(t){var e=null;return null==(e="string"==typeof t?document.querySelector(t):t)?0:(t=e.offsetTop,void 0!==e.offsetParent&&(t+=dom.top(e.offsetParent)),t)},dom.formdata=function(t,e){var n=null,n="string"==typeof t?document.querySelector(t):t;if(void 0===e){for(var r={},i={},o=n.querySelectorAll("input"),a=0;a<o.length;a++){var s=o[a],c=s.name,l=s.type,u=s.value;"text"==l||"number"==l||"password"==l||"hidden"==l?(r[c]=null,""!=u?-1!=c.indexOf("[]")?r[c]=[u]:r[c]=u:r[c]=""):"radio"==l?s.checked&&(r[c]=u):"checkbox"==l&&(void 0===i[c]&&(i[c]=0),s.checked&&(void 0===r[c]&&(i[c]=0,r[c]=[]),r[c].push(u)),i[c]+=1)}for(var d=n.querySelectorAll("select"),p=0;p<d.length;p++){var f=d[p],h=f.name;r[h]=null,-1!=f.selectedIndex?-1!=h.indexOf("[]")?r[h]=[f.value]:r[h]=f.value:r[h]=""}for(var m,g,v=n.querySelectorAll("textarea"),y=0;y<v.length;y++){var b=v[y],x=b.name;r[x]=null,r[x]=b.value}for(m in i)-1==m.indexOf("[]")&&1==i[m]&&r[m]&&(r[m]=r[m][0]);for(g in r)"string"==typeof r[g]&&0==r[g].indexOf("${")&&(r[g]=r[r[g].substring(2,r[g].length-1)]);return r}function w(t,e,n){null!=(t=dom.find("[name='"+e+"']",t))&&(1<t.length&&"radio"==t[0].type&&t.forEach(function(t,e){t.value===n?t.checked=!0:t.checked=!1}),"INPUT"==t.tagName?"check"!=t.type&&(t.value=n||""):"SELECT"==t.tagName?$("select[name='"+e+"']").val(n).trigger("change"):"TEXTAREA"==t.tagName&&(t.innerHTML=n))}for(var O in e)if("object"===_typeof(e[O]))for(var R in e[O])w(n,O+"."+R,e[O][R]);else w(n,O,e[O])},dom.enable=function(t){for(var e=document.querySelectorAll(t),n=0;n<e.length;n++)e[n].disabled=!1},dom.disable=function(t){for(var e="string"==typeof t?document.querySelectorAll(t):t,n=0;n<e.length;n++)e[n].disabled=!0},dom.index=function(t,e,n){t="string"==typeof t?dom.find(t):t;if(!n)for(var r=t.getAttribute(e),i=t.parentElement.querySelectorAll(t.tagName),o=0;o<i.length;o++)if(r==i[o].getAttribute(e))return o;return-1},dom.elementAt=function(t,e,n){for(var r=document.querySelectorAll(t),i=0;i<r.length;i++){var o=r[i];if(n==o.getAttribute(e))return{index:i,element:o}}return null},dom.elementAtTree=function(t,e,n,r,i){for(var o=document.querySelectorAll(t),a=0,s=0;s<o.length;s++){var c=o[s],l=c.getAttribute(e),u=c.getAttribute(n);if(i==u&&(a++,r==l))return{index:a,element:c}}},dom.autoheight=function(t,e,n){n=n||0;t=dom.find(t);if(null!=t){var r=(e=e||document.body).getBoundingClientRect(),i=r.height;e===document.body&&(i=window.innerHeight);(c=t.parentElement).getBoundingClientRect();for(var o=t.getBoundingClientRect(),o=(parseInt(c.offsetTop),o.top-r.top),a=0;c!==e&&c;)var s=getComputedStyle(c),a=(a=(a+=parseInt(s.paddingBottom))+parseInt(s.marginBottom))+parseInt(s.borderBottomWidth),c=c.parentElement;r=getComputedStyle(t);a+=parseInt(r.borderBottomWidth),t.style.height=i-a-n-o+"px",t.style.overflowY="auto"}},dom.templatize=function(t,e){t=Handlebars.compile(t)(e);return dom.element(t)},dom.init=function(t,e){if(e){var n=e.getAttribute("name"),n=((n=n&&""!=n?n:e.getAttribute("widget-id"))&&""!=n&&(t[n]=e),e.getAttribute("widget-model-tooltip"));n&&""!=n&&tippy(e,{content:n});for(var r=0;r<e.children.length;r++){var i=e.children[r];dom.init(t,i)}}},"undefined"!=typeof Handlebars&&Handlebars.registerHelper("ifeq",function(t,e,n){return t==e?n.fn(this):n.inverse(this)}),"undefined"==typeof gux&&(gux={}),gux={routedPages:[],presentPageObj:null},gux.navigateTo=function(){var r=_asyncToGenerator(_regeneratorRuntime().mark(function t(n,r,i){var o;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:clearTimeout(gux.delayToLoad),void 0===i&&(i=!1),o=document.querySelector("main"),gux.presentPageObj&&(gux.presentPageObj.page.classList.remove("in"),gux.presentPageObj.page.classList.add("out")),gux.delayToLoad=setTimeout(_asyncToGenerator(_regeneratorRuntime().mark(function t(){var e;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return gux.presentPageObj&&(gux.presentPageObj.page.parentElement.style.display="none"),gux.presentPageObj&&!1!==i&&(gux.presentPageObj.page.parentElement.remove(),gux.presentPageObj.destroy&&gux.presentPageObj.destroy(),delete gux.presentPageObj),t.next=4,xhr.asyncGet({url:n+(-1==n.indexOf("?")?"?":"&")+(new Date).getTime()},"GET");case 4:e=t.sent,gux.reload(o,n,e,r);case 6:case"end":return t.stop()}},t)})),400);case 5:case"end":return t.stop()}},t)}));return function(t,e,n){return r.apply(this,arguments)}}(),gux.switchTab=function(t,e){xhr.get({url:t}).then(function(t){e.title&&pageIndex.setTitle(e.title),!0===e.noNavigationBar?pageIndex.hideNavigationBar():pageIndex.showNavigationBar();t=dom.append(pageIndex.container,t,!0);t&&t.id&&(window[t.id].show(e.params||{}),gux.presentPageObj=window[t.id]),!0===e.noPull2Refresh?pageIndex.uninstallPull2Refresh():pageIndex.installPull2Refresh()})},gux.navigateWidget=function(n,r,i){clearTimeout(gux.delayToLoad),gux.delayToLoad=setTimeout(function(){r.children[0]&&(r.children[0].classList.remove("in"),r.children[0].classList.add("out")),setTimeout(_asyncToGenerator(_regeneratorRuntime().mark(function t(){var e;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r.innerHTML="",t.next=3,xhr.asyncGet({url:n},"GET");case 3:e=t.sent,gux.replace(r,n,e,i);case 5:case"end":return t.stop()}},t)})),400)},200)},gux.navigateBack=function(t){clearTimeout(gux.delayToLoad),gux.delayToLoad=setTimeout(function(){var t=document.querySelector("main"),e=t.children[t.children.length-2];gux.presentPageObj.page.classList.remove("in"),gux.presentPageObj.page.classList.add("out"),setTimeout(function(){gux.presentPageObj.page.parentElement.remove(),gux.presentPageObj.destroy&&gux.presentPageObj.destroy(),delete gux.presentPageObj,e.style.display="",gux.presentPageObj=window[e.getAttribute("gux-page-id")],gux.presentPageObj.page.classList.remove("out"),gux.presentPageObj.page.classList.add("in"),gux.setTitleAndIcon(e.getAttribute("gux-page-title"),e.getAttribute("gux-page-icon"))},400)},200)},gux.reload=function(t,e,n,r){r=r||{};var i=dom.element('<div style="height: 100%; width: 100%;"></div>'),n=document.createRange().createContextualFragment(n);i.appendChild(n);n=dom.find("[id^=page]",i).getAttribute("id"),t.appendChild(i),i.setAttribute("gux-page-id",n),i.setAttribute("gux-page-url",e),r.title&&(i.setAttribute("gux-page-title",r.title),i.setAttribute("gux-page-icon",r.icon||"")),gux.presentPageObj=window[n],gux.presentPageObj.page.classList.add("in"),t=utils.getParameters(e);gux.presentPageObj.show(t),gux.setTitleAndIcon(r.title,r.icon),r.success&&r.success()},gux.replace=function(t,e,n,r){r=r||{};var i,o=dom.element('<div style="height: 100%; width: 100%;"></div>'),n=document.createRange().createContextualFragment(n),n=(t.appendChild(n),dom.find("[id^=page]",t)),a=n.getAttribute("id"),t=(r.title&&(o.setAttribute("gux-page-title",r.title),o.setAttribute("gux-page-icon",r.icon||"")),n.classList.add("in"),utils.getParameters(e));for(i in window[a].show(t),r)window[a][i]=r[i];r.success&&r.success()},gux.setTitleAndIcon=function(t,e){var n=dom.find(".bottom-navigator"),t=(dom.find("header h1.title").innerText=t,dom.find("header div.left"));e?(t.innerHTML=e,null!=n&&(n.style.display=""),t.onclick=function(t){}):(t.innerHTML='<i class="fas fa-arrow-left button icon"></i>',null!=n&&(n.style.display="none"),t.onclick=function(t){gux.navigateBack()})},gux.select=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark(function t(n){var e,r,i,o;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,xhr.promise({url:n.url,params:n.params||{}});case 2:for(e=t.sent,r=[],i=0;i<e.length;i++)o=e[i],r.push({id:o[n.fieldId||"id"],value:o[n.fieldName||"value"]});new MobileSelect({trigger:n.trigger,title:n.title,wheels:[{data:r}],callback:function(t,e){n.onSelected&&n.onSelected(e[0])}});case 6:case"end":return t.stop()}},t)}));return function(t){return e.apply(this,arguments)}}(),gux.tabs=function(t){for(var e=dom.find(t.container),r=dom.element('\n    <div class="nav nav-tabs mt-0"></div>\n  '),i=dom.element('\n    <div class="swiper">\n      <div class="swiper-wrapper">\n      </div>\n    </div>\n  '),o=t.tabs,n=0;n<o.length;n++)!function(e){var t=o[e],n=dom.templatize('\n      <div class="nav-item font-weight-bold mr-0" \n           style="padding: 0 16px; line-height: 36px; text-align: center; flex: 1;">{{title}}</div>\n    ',t),n=(r.appendChild(n),0==e&&n.classList.add("active-bg-info"),dom.bind(n,"click",function(t){a.slideTo(e,400,!0)}),dom.templatize('\n      <div class="swiper-slide full-width"></div>\n    ',t));t.render?t.render(n,t.params||{}):n.innerHTML='<img src="https://via.placeholder.com/240x150">',i.children[0].appendChild(n)}(n);e.appendChild(r),e.appendChild(i);var a=new Swiper(i,{direction:"horizontal",loop:!1});a.on("slideChange",function(t){for(var t=t.activeIndex,e=0;e<r.children.length;e++)r.children[e].classList.remove("active-bg-info");r.children[t].classList.add("active-bg-info")})},gux.wizard=function(t){for(var e=dom.find(t.container),i=dom.element('\n    <div class="wizard"></div>\n  '),o=dom.element('\n    <div class="swiper">\n      <div class="swiper-wrapper">\n      </div>\n    </div>\n  '),a=t.steps,n=0;n<a.length;n++)!function(e){var t=a[e],n=(t.index=e+1,dom.templatize('\n      <div class="wizard-step">\n        <div class="wizard-dot">\n          <div class="wizard-connector-left"></div>\n          <div class="wizard-number">{{index}}</div>\n          <div class="wizard-connector-right"></div>\n        </div>\n      </div>\n    ',t)),r=(i.appendChild(n),dom.bind(n,"click",function(t){n.classList.contains("wizard-step-completed")&&s.slideTo(e,400,!0)}),dom.templatize('\n      <div class="swiper-slide full-width"></div>\n    ',t));t.render?t.render(r,t.params||{}):r.innerHTML='<img src="https://via.placeholder.com/240x150">',o.children[0].appendChild(r)}(n);e.appendChild(i),e.appendChild(o);var s=new Swiper(o,{direction:"horizontal",loop:!1});return s.on("slideChange",function(t){for(var e=t.activeIndex,n=0;n<i.children.length;n++)i.children[n].classList.remove("wizard-step-completed");for(var r=0;r<e;r++)i.children[r].classList.add("wizard-step-completed")}),s.on("sliderMove",function(t,e){}),s},gux.overlay=function(){},gux.success=function(t,e){var n=dom.templatize('\n    <div class="toast">\n      <i class="far fa-check-circle font-36"></i>\n      <div class="font-18 mt-2">'.concat(t,"</div>\n    </div>\n  "));document.body.appendChild(n),setTimeout(function(){n.classList.add("show")},50),setTimeout(function(){n.classList.remove("show"),setTimeout(function(){n.remove(),e&&e()},500)},1e3)},gux.error=function(t,e){var n=dom.templatize('\n    <div class="toast">\n      <i class="far fa-times-circle font-36"></i>\n      <div class="font-18 mt-2">'.concat(t,"</div>\n    </div>\n  "));document.body.appendChild(n),setTimeout(function(){n.classList.add("show")},50),setTimeout(function(){n.classList.remove("show"),setTimeout(function(){n.remove(),e&&e()},500)},1e3)},gux.loading=function(t){var e;null==document.getElementById("__widgetLoading")&&(e=dom.templatize('\n    <div id="__widgetLoading" style="background: rgba(0,0,0,0.3); position: absolute; top: 0; left: 0; \n                z-index: 9999; height: 100%; width: 100%; display: flex; color: white">\n      <div class="m-auto" style="text-align: center;">\n        <i class="fas fa-spinner fa-spin font-36"></i>\n        <div class="font-18 mt-2">数据加载中</div>\n      </div>          \n    </div>\n  '),document.body.appendChild(e),setTimeout(function(){t&&t(e)},300))},gux.dialog=function(t){var e=t.confirm,n=t.cancel,t=t.content,r=dom.element('\n    <div style="background: rgba(0,0,0,0.3); position: absolute; top: 0; left: 0; \n                z-index: 9999; height: 100%; width: 100%; display: flex;">\n      <div class="dialog m-auto" \n           style="width: 88%; min-height: 400px; position: relative;\n                  background: var(--color-white);">\n        <div class="dialog-body">'.concat(t,'</div>\n        <div class="dialog-footer" \n             style="font-size: 24px; font-weight: bold; position: absolute;\n                    width: 100%; height: 56px; bottom: 0; display: table;">\n          <button style="background: var(--color-error); width: 50%; display: inline-table;\n                         color: var(--color-text-primary-dark); border: none; \n                         line-height: 56px;">取  消</button>\n          <button style="background: var(--color-primary); width: 50%; display: inline-table;\n                         color: var(--color-text-primary-dark); border: none; \n                         line-height: 56px;">确  定</button>\n        </div>\n      </div>\n    </div>\n  ')),t=r.querySelectorAll("button");dom.bind(t[0],"click",function(t){r.remove(),n&&n()}),dom.bind(t[1],"click",function(t){r.remove(),e&&e()}),document.body.appendChild(r)},pStart={x:0,y:0},pStop={x:0,y:0},gux.swipeStart=function(t){var e;void 0!==t.targetTouches?(e=t.targetTouches[0],pStart.x=e.screenX,pStart.y=e.screenY):(pStart.x=t.screenX,pStart.y=t.screenY)},gux.swipeEnd=function(t){var e;void 0!==t.changedTouches?(e=t.changedTouches[0],pStop.x=e.screenX,pStop.y=e.screenY):(pStop.x=t.screenX,pStop.y=t.screenY)},gux.swipeCheck=function(){var t=pStart.y-pStop.y,e=pStart.x-pStop.x;return gux.isPullDown(t,e)},gux.isPullDown=function(t,e){return t<0&&(Math.abs(e)<=100&&300<=Math.abs(t)||Math.abs(e)/Math.abs(t)<=.3&&60<=t)},document.addEventListener("touchstart",gux.swipeStart,!1),document.addEventListener("touchend",function(t){gux.swipeEnd(t),gux.swipeCheck()&&(gux.presentPageObj.page.getBoundingClientRect(),gux.presentPageObj)&&gux.presentPageObj.pullToRefresh&&0<=gux.presentPageObj.page.getBoundingClientRect().top&&gux.loading(function(t){gux.presentPageObj.pullToRefresh(t)})},!1);var NO_ERRORS=0,REQUIRED_ERROR=1,FORMAT_ERROR=2,INVALID_ERROR=3;function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ownKeys(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){_defineProperty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _defineProperty(t,e,n){return(e=_toPropertyKey(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey(t){t=_toPrimitive(t,"string");return"symbol"==_typeof(t)?t:t+""}function _toPrimitive(t,e){if("object"!=_typeof(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}function Calendar(t){this.today=moment(new Date),this.currentMonth=moment(this.today).startOf("month"),this.currentIndex=1}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _regeneratorRuntime(){_regeneratorRuntime=function(){return a};var c,a={},t=Object.prototype,l=t.hasOwnProperty,u=Object.defineProperty||function(t,e,n){t[e]=n.value},e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",n=e.asyncIterator||"@@asyncIterator",i=e.toStringTag||"@@toStringTag";function o(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{o({},"")}catch(c){o=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var i,o,a,s,e=e&&e.prototype instanceof v?e:v,e=Object.create(e.prototype),r=new L(r||[]);return u(e,"_invoke",{value:(i=t,o=n,a=r,s=p,function(t,e){if(s===h)throw Error("Generator is already running");if(s===m){if("throw"===t)throw e;return{value:c,done:!0}}for(a.method=t,a.arg=e;;){var n=a.delegate;if(n){n=function t(e,n){var r=n.method,i=e.iterator[r];if(i===c)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=c,t(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;r=d(i,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,g;i=r.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=c),n.delegate=null,g):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}(n,a);if(n){if(n===g)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===p)throw s=m,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=h;n=d(i,o,a);if("normal"===n.type){if(s=a.done?m:f,n.arg===g)continue;return{value:n.arg,done:a.done}}"throw"===n.type&&(s=m,a.method="throw",a.arg=n.arg)}})}),e}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}a.wrap=s;var p="suspendedStart",f="suspendedYield",h="executing",m="completed",g={};function v(){}function y(){}function b(){}var e={},x=(o(e,r,function(){return this}),Object.getPrototypeOf),x=x&&x(x(k([]))),w=(x&&x!==t&&l.call(x,r)&&(e=x),b.prototype=v.prototype=Object.create(e));function O(t){["next","throw","return"].forEach(function(e){o(t,e,function(t){return this._invoke(e,t)})})}function R(a,s){var e;u(this,"_invoke",{value:function(n,r){function t(){return new s(function(t,e){!function e(t,n,r,i){var o,t=d(a[t],a,n);if("throw"!==t.type)return(n=(o=t.arg).value)&&"object"==_typeof(n)&&l.call(n,"__await")?s.resolve(n.__await).then(function(t){e("next",t,r,i)},function(t){e("throw",t,r,i)}):s.resolve(n).then(function(t){o.value=t,r(o)},function(t){return e("throw",t,r,i)});i(t.arg)}(n,r,t,e)})}return e=e?e.then(t,t):t()}})}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function k(e){if(e||""===e){var n,t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return n=-1,(t=function t(){for(;++n<e.length;)if(l.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=c,t.done=!0,t}).next=t}throw new TypeError(_typeof(e)+" is not iterable")}return u(w,"constructor",{value:y.prototype=b,configurable:!0}),u(b,"constructor",{value:y,configurable:!0}),y.displayName=o(b,i,"GeneratorFunction"),a.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,o(t,i,"GeneratorFunction")),t.prototype=Object.create(w),t},a.awrap=function(t){return{__await:t}},O(R.prototype),o(R.prototype,n,function(){return this}),a.AsyncIterator=R,a.async=function(t,e,n,r,i){void 0===i&&(i=Promise);var o=new R(s(t,e,n,r),i);return a.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},O(w),o(w,i,"Generator"),o(w,r,function(){return this}),o(w,"toString",function(){return"[object Generator]"}),a.keys=function(t){var e,n=Object(t),r=[];for(e in n)r.push(e);return r.reverse(),function t(){for(;r.length;){var e=r.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},a.values=k,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&l.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function t(t,e){return o.type="throw",o.arg=n,r.next=t,e&&(r.method="next",r.arg=c),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var i=this.tryEntries[e],o=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var a=l.call(i,"catchLoc"),s=l.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&l.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}var o=(i=i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc?null:i)?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n,r,i=this.tryEntries[e];if(i.tryLoc===t)return"throw"===(n=i.completion).type&&(r=n.arg,E(i)),r}throw Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:k(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=c),g}},a}function asyncGeneratorStep(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function _asyncToGenerator(s){return function(){var t=this,a=arguments;return new Promise(function(e,n){var r=s.apply(t,a);function i(t){asyncGeneratorStep(r,e,n,i,o,"next",t)}function o(t){asyncGeneratorStep(r,e,n,i,o,"throw",t)}i(void 0)})}}function CascadePicker(t){this.success=t.success||function(t){},this.selections=t.selections||{},this.levels=t.levels}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _regeneratorRuntime(){_regeneratorRuntime=function(){return a};var c,a={},t=Object.prototype,l=t.hasOwnProperty,u=Object.defineProperty||function(t,e,n){t[e]=n.value},e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",n=e.asyncIterator||"@@asyncIterator",i=e.toStringTag||"@@toStringTag";function o(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{o({},"")}catch(c){o=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var i,o,a,s,e=e&&e.prototype instanceof v?e:v,e=Object.create(e.prototype),r=new L(r||[]);return u(e,"_invoke",{value:(i=t,o=n,a=r,s=p,function(t,e){if(s===h)throw Error("Generator is already running");if(s===m){if("throw"===t)throw e;return{value:c,done:!0}}for(a.method=t,a.arg=e;;){var n=a.delegate;if(n){n=function t(e,n){var r=n.method,i=e.iterator[r];if(i===c)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=c,t(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;r=d(i,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,g;i=r.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=c),n.delegate=null,g):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}(n,a);if(n){if(n===g)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===p)throw s=m,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=h;n=d(i,o,a);if("normal"===n.type){if(s=a.done?m:f,n.arg===g)continue;return{value:n.arg,done:a.done}}"throw"===n.type&&(s=m,a.method="throw",a.arg=n.arg)}})}),e}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}a.wrap=s;var p="suspendedStart",f="suspendedYield",h="executing",m="completed",g={};function v(){}function y(){}function b(){}var e={},x=(o(e,r,function(){return this}),Object.getPrototypeOf),x=x&&x(x(k([]))),w=(x&&x!==t&&l.call(x,r)&&(e=x),b.prototype=v.prototype=Object.create(e));function O(t){["next","throw","return"].forEach(function(e){o(t,e,function(t){return this._invoke(e,t)})})}function R(a,s){var e;u(this,"_invoke",{value:function(n,r){function t(){return new s(function(t,e){!function e(t,n,r,i){var o,t=d(a[t],a,n);if("throw"!==t.type)return(n=(o=t.arg).value)&&"object"==_typeof(n)&&l.call(n,"__await")?s.resolve(n.__await).then(function(t){e("next",t,r,i)},function(t){e("throw",t,r,i)}):s.resolve(n).then(function(t){o.value=t,r(o)},function(t){return e("throw",t,r,i)});i(t.arg)}(n,r,t,e)})}return e=e?e.then(t,t):t()}})}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function k(e){if(e||""===e){var n,t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return n=-1,(t=function t(){for(;++n<e.length;)if(l.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=c,t.done=!0,t}).next=t}throw new TypeError(_typeof(e)+" is not iterable")}return u(w,"constructor",{value:y.prototype=b,configurable:!0}),u(b,"constructor",{value:y,configurable:!0}),y.displayName=o(b,i,"GeneratorFunction"),a.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,o(t,i,"GeneratorFunction")),t.prototype=Object.create(w),t},a.awrap=function(t){return{__await:t}},O(R.prototype),o(R.prototype,n,function(){return this}),a.AsyncIterator=R,a.async=function(t,e,n,r,i){void 0===i&&(i=Promise);var o=new R(s(t,e,n,r),i);return a.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},O(w),o(w,i,"Generator"),o(w,r,function(){return this}),o(w,"toString",function(){return"[object Generator]"}),a.keys=function(t){var e,n=Object(t),r=[];for(e in n)r.push(e);return r.reverse(),function t(){for(;r.length;){var e=r.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},a.values=k,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&l.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function t(t,e){return o.type="throw",o.arg=n,r.next=t,e&&(r.method="next",r.arg=c),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var i=this.tryEntries[e],o=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var a=l.call(i,"catchLoc"),s=l.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&l.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}var o=(i=i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc?null:i)?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n,r,i=this.tryEntries[e];if(i.tryLoc===t)return"throw"===(n=i.completion).type&&(r=n.arg,E(i)),r}throw Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:k(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=c),g}},a}function asyncGeneratorStep(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function _asyncToGenerator(s){return function(){var t=this,a=arguments;return new Promise(function(e,n){var r=s.apply(t,a);function i(t){asyncGeneratorStep(r,e,n,i,o,"next",t)}function o(t){asyncGeneratorStep(r,e,n,i,o,"throw",t)}i(void 0)})}}function DistrictPicker(t){this.unit=t.unit||"",this.regex=t.regex||/.*/,this.success=t.success||function(t){},this.selections=t.selections||{}}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ownKeys(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){_defineProperty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _defineProperty(t,e,n){return(e=_toPropertyKey(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey(t){t=_toPrimitive(t,"string");return"symbol"==_typeof(t)?t:t+""}function _toPrimitive(t,e){if("object"!=_typeof(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}function _createForOfIteratorHelper(t,e){var n,r,i,o,a="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(a)return i=!(r=!0),{s:function(){a=a.call(t)},n:function(){var t=a.next();return r=t.done,t},e:function(t){i=!0,n=t},f:function(){try{r||null==a.return||a.return()}finally{if(i)throw n}}};if(Array.isArray(t)||(a=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length)return a&&(t=a),o=0,{s:e=function(){},n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:e};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){var n;if(t)return"string"==typeof t?_arrayLikeToArray(t,e):"Map"===(n="Object"===(n={}.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function _regeneratorRuntime(){_regeneratorRuntime=function(){return a};var c,a={},t=Object.prototype,l=t.hasOwnProperty,u=Object.defineProperty||function(t,e,n){t[e]=n.value},e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",n=e.asyncIterator||"@@asyncIterator",i=e.toStringTag||"@@toStringTag";function o(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{o({},"")}catch(c){o=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var i,o,a,s,e=e&&e.prototype instanceof v?e:v,e=Object.create(e.prototype),r=new L(r||[]);return u(e,"_invoke",{value:(i=t,o=n,a=r,s=p,function(t,e){if(s===h)throw Error("Generator is already running");if(s===m){if("throw"===t)throw e;return{value:c,done:!0}}for(a.method=t,a.arg=e;;){var n=a.delegate;if(n){n=function t(e,n){var r=n.method,i=e.iterator[r];if(i===c)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=c,t(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;r=d(i,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,g;i=r.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=c),n.delegate=null,g):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}(n,a);if(n){if(n===g)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===p)throw s=m,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=h;n=d(i,o,a);if("normal"===n.type){if(s=a.done?m:f,n.arg===g)continue;return{value:n.arg,done:a.done}}"throw"===n.type&&(s=m,a.method="throw",a.arg=n.arg)}})}),e}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}a.wrap=s;var p="suspendedStart",f="suspendedYield",h="executing",m="completed",g={};function v(){}function y(){}function b(){}var e={},x=(o(e,r,function(){return this}),Object.getPrototypeOf),x=x&&x(x(k([]))),w=(x&&x!==t&&l.call(x,r)&&(e=x),b.prototype=v.prototype=Object.create(e));function O(t){["next","throw","return"].forEach(function(e){o(t,e,function(t){return this._invoke(e,t)})})}function R(a,s){var e;u(this,"_invoke",{value:function(n,r){function t(){return new s(function(t,e){!function e(t,n,r,i){var o,t=d(a[t],a,n);if("throw"!==t.type)return(n=(o=t.arg).value)&&"object"==_typeof(n)&&l.call(n,"__await")?s.resolve(n.__await).then(function(t){e("next",t,r,i)},function(t){e("throw",t,r,i)}):s.resolve(n).then(function(t){o.value=t,r(o)},function(t){return e("throw",t,r,i)});i(t.arg)}(n,r,t,e)})}return e=e?e.then(t,t):t()}})}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function k(e){if(e||""===e){var n,t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return n=-1,(t=function t(){for(;++n<e.length;)if(l.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=c,t.done=!0,t}).next=t}throw new TypeError(_typeof(e)+" is not iterable")}return u(w,"constructor",{value:y.prototype=b,configurable:!0}),u(b,"constructor",{value:y,configurable:!0}),y.displayName=o(b,i,"GeneratorFunction"),a.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,o(t,i,"GeneratorFunction")),t.prototype=Object.create(w),t},a.awrap=function(t){return{__await:t}},O(R.prototype),o(R.prototype,n,function(){return this}),a.AsyncIterator=R,a.async=function(t,e,n,r,i){void 0===i&&(i=Promise);var o=new R(s(t,e,n,r),i);return a.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},O(w),o(w,i,"Generator"),o(w,r,function(){return this}),o(w,"toString",function(){return"[object Generator]"}),a.keys=function(t){var e,n=Object(t),r=[];for(e in n)r.push(e);return r.reverse(),function t(){for(;r.length;){var e=r.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},a.values=k,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&l.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function t(t,e){return o.type="throw",o.arg=n,r.next=t,e&&(r.method="next",r.arg=c),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var i=this.tryEntries[e],o=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var a=l.call(i,"catchLoc"),s=l.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&l.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}var o=(i=i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc?null:i)?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n,r,i=this.tryEntries[e];if(i.tryLoc===t)return"throw"===(n=i.completion).type&&(r=n.arg,E(i)),r}throw Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:k(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=c),g}},a}function asyncGeneratorStep(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function _asyncToGenerator(s){return function(){var t=this,a=arguments;return new Promise(function(e,n){var r=s.apply(t,a);function i(t){asyncGeneratorStep(r,e,n,i,o,"next",t)}function o(t){asyncGeneratorStep(r,e,n,i,o,"throw",t)}i(void 0)})}}function EditableForm(t){this.fields=t.fields,this.readonly=t.readonly||!1,this.saveOpt=t.save,this.readOpt=t.read}function Numpad(t){this.unit=t.unit||"",this.regex=t.regex||/.*/,this.success=t.success||function(t){},this.type=t.type||"decimal"}function PopupRuler(t){this.unit=t.unit||"",this.regex=t.regex||/.*/,this.success=t.success||function(t){},this.type=t.type||"decimal",this.value=t.value,this.range=t.range}String.prototype.trim||!function(){var t=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(t,"")}}(),Validation={validate:function(t,e){var a=[],n=(void 0===t&&(t=$(document)),(t=$(t)).find("input[type!=checkbox][type!=radio][type!=button]").each(function(t,e){var n=$(e).val().trim(),r=Validation.getLabel(e),i=$(e).attr("data-required-message")?$(e).attr("data-required-message"):r+"必须填写！",o=(Validation.isRequired(e)&&""===n&&a.push({element:e,message:i}),$(e).attr("data-domain-type"));if(o){i=r+"填写不合要求。",r=Validation.getDomainValidator(new ValidationModel(o));if(null!=r&&""!==n){o=r.test(n);switch(o){case REQUIRED_ERROR:break;case FORMAT_ERROR:i=$(e).attr("data-format-message")?$(e).attr("data-format-message"):i;break;case INVALID_ERROR:i=$(e).attr("data-invalid-message")?$(e).attr("data-invalid-message"):i}o!=NO_ERRORS&&a.push({element:$(e),message:i})}}}),t.find("textarea").each(function(t,e){var n=$(e).val().trim(),r=Validation.getLabel(e),i=$(e).attr("data-required-message")?$(e).attr("data-required-message"):r+"必须填写！",o=(Validation.isRequired(e)&&""===n&&a.push({element:e,message:i}),$(e).attr("data-domain-type"));if(o){i=r+"填写不合要求。",r=Validation.getDomainValidator(new ValidationModel(o));if(null!=r&&""!==n){o=r.test(n);switch(o){case REQUIRED_ERROR:break;case FORMAT_ERROR:i=$(e).attr("data-format-message")?$(e).attr("data-format-message"):i;break;case INVALID_ERROR:i=$(e).attr("data-invalid-message")?$(e).attr("data-invalid-message"):i}o!=NO_ERRORS&&a.push({element:$(e),message:i})}}}),t.find("select").each(function(t,e){var n;!Validation.isRequired(e)||"-1"!=$(e).val()&&""!=$(e).val()&&null!=$(e).val()||(n=Validation.getLabel(e)+"必须选择！",n=$(e).attr("data-required-message")?$(e).attr("data-required-message"):n,a.push({element:$(e),message:n}))}),{});for(s in t.find("input[type=checkbox]").each(function(t,e){e=$(e).attr("name");n[e]=e}),n){var r=!1,i=null,o=null;t.find('input[name="'+s+'"]').each(function(t,e){0==t&&(i=Validation.getLabel(e),o=e),!r&&$(e).prop("checked")&&(r=!0)}),!r&&Validation.isRequired(o)&&(c=i+"必须选择！",c=$(o).attr("data-required-message")?$(o).attr("data-required-message"):c,a.push({element:$(o),message:c}))}var s,n={};for(s in t.find("input[type=radio]").each(function(t,e){e=$(e).attr("name");n[e]=e}),n){var c,r=!1,i=null,o=null;t.find('input[name="'+s+'"]').each(function(t,e){0==t&&(i=Validation.getLabel(e),o=e),!r&&$(e).prop("checked")&&(r=!0)}),!1===r&&$(o).prop("required")&&(c=i+"必须选择！",c=$(o).attr("data-required-message")?$(o).attr("data-required-message"):c,a.push({element:$(o),message:c}))}return t.find("input[remote]").each(function(t,e){var n=$(e).attr("remote"),r=$(e).val().trim();n&&""!=n&&""!=r&&$.ajax({url:n,method:"POST",data:"check="+r,success:function(t){t=$.parseJSON(t);t.err&&a.push({element:$(e),message:t.msg})}})}),e&&e(a),a},getLabel:function(t){t=$(t);return t.attr("label")||$(t).attr("data-required")||t.attr("name")||t.attr("id")},isRequired:function(t){t=$(t);return!!t.prop("required")||"required"==t.attr("required")||void 0!==t.attr("data-required")&&""!=t.attr("data-required")},getDomainValidator:function(t){var e=t.keyword.toLowerCase(),n=null;if("mail"===e||"email"===e)n=new Validation.Mail;else if("number"===e)n=new Validation.Number(t.symbol,t.args);else if("string"===e)n=new Validation.String(t.args);else if("mobile"===e)n=new Validation.Mobile;else if("range"===e)n=new Validation.Range(t.opts,t.args);else if("phone"===e)n=new Validation.Phone;else if("cmpexp"===e)n=new Validation.CmpExp(t.args[0],t.args[1]);else if("regexp"===e)n=new Validation.RegExp(t.args[0]);else if("remote"===e)n=new Validation.Remote(t.args[0]);else if("date"===e)n=new Validation.Date;else if("time"===e)n=new Validation.Time;else{if("datetime"!==e)throw new Error('not support for the domain("'+e+'")');n=new Validation.DateTime}return n},String:function(t){this.min=0,this.max=parseInt(t[0]),1<t.length&&(this.min=parseInt(t[0]),this.max=parseInt(t[1])),this.test=function(t){return t.length<this.min||this.max&&t.length>this.max?FORMAT_ERROR:NO_ERRORS}},Number:function(t,e){this.plus=-1,this.minus=-1,"-"===t?this.minus=0:"+"===t&&(this.plus=0),0!=this.minus&&this.plus,this.precision=parseInt(e[0]),1<e.length&&(this.scale=parseInt(e[1])),this.test=function(t){if(0==this.plus){if(!/^\s*(\+)?((\d+(\.\d+)?)|(\.\d+))\s*$/.test(t))return FORMAT_ERROR}else if(0==this.minus){if(!/^\s*(-)((\d+(\.\d+)?)|(\.\d+))\s*$/.test(t))return FORMAT_ERROR}else if(!/^\s*(\+)?((\d+(\.\d+)?)|(\.\d+))\s*$/.test(t))return FORMAT_ERROR;var e=t.indexOf("."),n=-1==e?this.precision:this.precision+1,n=0==this.plus||0==this.minus?n+1:n;if(t.length>n)return FORMAT_ERROR;if(-1!=e&&this.scale&&t.substring(e+1).length>this.scale)return FORMAT_ERROR;return NO_ERRORS}},Mail:function(){this.test=function(t){return/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(t)?NO_ERRORS:FORMAT_ERROR}},Phone:function(){this.test=function(t){return/^\d{11}$/i.test(t)?NO_ERRORS:FORMAT_ERROR}},Mobile:function(){this.test=function(t){return/^\d{11}$/i.test(t)?NO_ERRORS:FORMAT_ERROR}},Date:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){this.test=function(t){return/^\d{4}-\d{1,2}-\d{1,2}$/.test(t)?isNaN(Date.parse(t))?INVALID_ERROR:NO_ERRORS:FORMAT_ERROR}}),Time:function(){this.test=function(t){return/^\d{1,2}:\d{1,2}(:\d{1,2})?$/.test(t)?(t="1970-01-01 "+t,isNaN(Date.parse(t))?INVALID_ERROR:NO_ERRORS):FORMAT_ERROR}},DateTime:function(){this.test=function(t){return/^\d{4}-\d{1,2}-\d{1,2} \d{1,2}:\d{1,2}(:\d{1,2})?$/.test(t)?isNaN(Date.parse(t))?INVALID_ERROR:NO_ERRORS:FORMAT_ERROR}},RegExp:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(t){this.re=new RegExp(t),this.test=function(t){return this.re.test(t)?NO_ERRORS:FORMAT_ERROR}}),CmpExp:function CmpExp(type,expr){this.model=new ValidationModel(type),this.expr=expr,this.ignore=!1;var self=this;this.test=function(str){var expr=this.expr,dt=Validation.getDomainValidator(this.model);if(dt.test(str)!=NO_ERRORS)return FORMAT_ERROR;if($("input[type!=checkbox][type!=radio][type!=button]").each(function(t,e){var n=$(e).attr("name"),e=$(e).val();-1!=expr.indexOf(n)&&(""==e&&(self.ignore=!0),expr=expr.replace(new RegExp(n,"g"),e))}),!this.ignore)try{if(!eval(expr))return INVALID_ERROR}catch(e){return INVALID_ERROR}return NO_ERRORS}},Remote:function(e){this.test=function(t){$.ajax({url:e+t,dataType:"json",success:function(t){t.error}})}},Range:function(n,t){this.min=parseFloat(t[0]),this.max=parseFloat(t[1]),this.test=function(t){var e,t=parseFloat(t.trim());return!isNaN(t)&&(e=!1,">"==n[0]?e=t>this.min:">="===n[0]&&(e=t>=this.min),e)&&("<"==n[1]?e=t<this.max:"<="===n[1]&&(e=t<=this.max),e)?NO_ERRORS:INVALID_ERROR}}},ValidationModel=function(t){this.symbol="",this.keyword="",this.opts=[],this.args=[],this.unary_ops={"+":!0,"-":!0},this.keywords={string:!0,number:!0,range:!0,regexp:!0,mobile:!0,email:!0,phone:!0,cmpexp:!0};for(var e=0,n=t.length,r="";e<n;){var i=t.charAt(e);if(this.isUnaryOp(i)&&0==e)this.symbol=i;else if("["==i)if(""!=this.keyword)r+=i;else{if(!this.stringEqual("range",r))throw new Error('"[" is just available for range.');this.keyword=r,this.opts.push(">="),r=""}else"("==i?""!=this.keyword?(this.opts.push("("),r+=i):(this.keyword=r,this.opts.push(">"),r=""):"]"==i?(this.opts.push("<="),this.args.push(r),r=""):")"==i&&e==n-1?(this.args.push(r),this.opts.push("<"),r=""):")"==i?(this.opts.pop("<"),1==this.opts.length&&(r+=i)):","==i&&1==this.opts.length?(this.args.push(r),r=""):r+=i;e++}""==this.keyword&&(this.keyword=r)},ValidationModel.prototype={isKeyword:function(t){return this.keywords[t.toLowerCase()]},isUnaryOp:function(t){return this.unary_ops[t]},isDecimalDigit:function(t){return 48<=t&&t<=57},isIdentifierStart:function(t){return 36===t||95===t||65<=t&&t<=90||97<=t&&t<=122},isIdentifierPart:function(t){return 36===t||95===t||65<=t&&t<=90||97<=t&&t<=122||48<=t&&t<=57},stringEqual:function(t,e){return t.toLowerCase()===e.toLowerCase()}},xhr={url:function(t){return t="undefined"!=typeof HOST&&-1==t.indexOf("http")?HOST+t:t},params:function(t){if(-1==t.indexOf("?"))return{};for(var e={},n=(t=t.substring(t.indexOf("?")+1)).split("&"),r=0;r<n.length;r++){var i=n[r].split("=");if(1==i.length)return{};e[i[0].trim()]=decodeURIComponent(i[1].trim())}return e},request:function(i,o){var a=xhr.url(i.url),t=xhr.params(a),s=i.data||i.params||{},c=i.type||"json",s=(i.success,i.error,_objectSpread(_objectSpread({},t),s));return new Promise(function(e,n){var r=new XMLHttpRequest;if(r.onload=function(){var t=r.responseText;if("json"==c)try{t=JSON.parse(t)}catch(t){return console.log(t),void n(t)}(4==r.readyState&&"200"==r.status?e:n)(t)},r.onerror=function(){n({error:{code:-500,message:"网络访问错误！"}})},r.ontimeout=function(){n({error:{code:-501,message:"网络请求超时！"}})},r.open(o,a,!0),r.setRequestHeader("Content-Type","application/json"),i.headers)for(var t in i.headers)r.setRequestHeader(t,i.headers[t]);s?r.send(JSON.stringify(s)):r.send(null)})},get:function(t){var r=t.url;t.data,t.success,t.error;return new Promise(function(t,e){var n=new XMLHttpRequest;n.open("GET",r,!0),n.onload=function(){t(n.responseText)},n.send(null)})},post:function(t){return xhr.request(t,"POST")},put:function(t){return xhr.request(t,"PUT")},patch:function(t){return xhr.request(t,"PATCH")},delete:function(t){return xhr.request(t,"DELETE")},connect:function(t){return xhr.request(t,"CONNECT")}},"undefined"!=typeof module&&(module.exports={xhr:xhr}),Calendar.prototype.root=function(){var s=this,c=dom.templatize('\n    <div class="calendar">\n      <div class="title"></div>\n      <div class="weekdays" style="position: sticky; top: 0;z-index: 10;">\n        <div class="weekday">日</div>\n        <div class="weekday">一</div>\n        <div class="weekday">二</div>\n        <div class="weekday">三</div>\n        <div class="weekday">四</div>\n        <div class="weekday">五</div>\n        <div class="weekday">六</div>\n      </div>\n      <div class="swiper">\n        <div class="swiper-wrapper">\n          <div class="prev swiper-slide"></div>\n          <div class="curr swiper-slide"></div>\n          <div class="next swiper-slide"></div>\n        </div>\n      </div>\n    </div>\n  ',{}),t=(this.widgetSwiper=dom.find(".swiper",c),this.title=dom.find(".title",c),dom.find(".prev",c)),e=dom.find(".curr",c),n=dom.find(".next",c);return this.renderMonth(t,moment(this.currentMonth).subtract(1,"months").startOf("month")),this.renderMonth(e,this.currentMonth),this.renderMonth(n,moment(this.currentMonth).add(1,"months").startOf("month")),new Swiper(this.widgetSwiper,{speed:400,initialSlide:this.currentIndex,loop:!0}).on("slideChange",function(t){0==t.realIndex?1==s.currentIndex?s.currentMonth=moment(s.currentMonth).subtract(1,"months"):2==s.currentIndex&&(s.currentMonth=moment(s.currentMonth).add(1,"months")):1==t.realIndex?0==s.currentIndex?s.currentMonth=moment(s.currentMonth).add(1,"months"):2==s.currentIndex&&(s.currentMonth=moment(s.currentMonth).subtract(1,"months")):2==t.realIndex&&(0==s.currentIndex?s.currentMonth=moment(s.currentMonth).subtract(1,"months"):1==s.currentIndex&&(s.currentMonth=moment(s.currentMonth).add(1,"months"))),s.currentIndex=t.realIndex;var e=moment(s.currentMonth).subtract(1,"months"),n=moment(s.currentMonth).add(1,"months"),r=null,i=null;0==s.currentIndex?(r=c.querySelectorAll(".next"),i=c.querySelectorAll(".curr")):1==s.currentIndex?(r=c.querySelectorAll(".prev"),i=c.querySelectorAll(".next")):2==s.currentIndex&&(r=c.querySelectorAll(".curr"),i=c.querySelectorAll(".prev"));for(var o=0;o<r.length;o++)s.renderMonth(r[o],e);for(var a=0;a<i.length;a++)s.renderMonth(i[a],n)}),c},Calendar.prototype.renderMonth=function(t,e){for(var n=e.startOf("month").day(),r=e.daysInMonth(),i=(t.innerHTML="",null),o=0;o<r+n;o++){o%7==0&&(i=dom.create("div","dates"));var a=dom.element('<div class="date"></div>'),s=o-n+1,s=(n<=o&&(a.innerHTML=s),e.format("YYYY-MM-")+(s<10?"0"+s:s));s==this.today.format("YYYY-MM-DD")&&a.classList.add("today"),a.setAttribute("data-calendar-date",s),i.appendChild(a),o%7==6&&(t.appendChild(i),i=null)}null!=i&&t.appendChild(i);for(var c=7-(r+n)%7,l=0;l<c;l++){var u=dom.element('<div class="date"></div>');t.appendChild(u)}this.title.innerText=this.currentMonth.format("YYYY年MM月")},Calendar.prototype.stylizeDates=function(t,e,n){var r=dom.find(".dates.curr",this.root);if(Array.isArray(e)){for(var i=0;i<e.length;i++)for(var o=0;o<r.children.length;o++)if(moment(e[i]).format("YYYY-MM-DD")==r.children[o].getAttribute("data-calendar-date")){r.children[o].style=t;break}}else{e=moment(e).format("YYYY-MM-DD"),n=moment(n).format("YYYY-MM-DD");for(var a=0;a<r.children.length;a++){var s=r.children[a].getAttribute("data-calendar-date");e<=s&&s<=n&&(r.children[a].style=t)}}},Calendar.prototype.render=function(t,e){this.root=this.root();t=dom.find(t);t.innerHTML="",t.appendChild(this.root)},CascadePicker.prototype.root=function(){for(var a=this,t=dom.templatize('\n    <div class="popup-container">\n      <div class="popup-mask"></div>\n      <div class="popup-bottom district-picker">\n        <div class="popup-title">\n          <button class="cancel">取消</button>\n          <span class="value"></span>\n          <span class="unit">{{unit}}</span>\n          <button class="confirm">确认</button>\n        </div>\n        <div>\n          <div widget-id="widgetLevel" style="padding: 4px 16px">\n          </div>\n          <div style="border-top: 1px solid var(--color-divider);"></div>\n          <ul widget-id="widgetValue" class="list-group" style="height: 240px; overflow-y: auto;">\n          </ul>\n        </div>\n      </div>\n    </div>\n  ',this),e=(this.bottom=dom.find(".popup-bottom",t),this.widgetLevel=dom.find("[widget-id=widgetLevel]",t),this.widgetValue=dom.find("[widget-id=widgetValue]",t),dom.find(".popup-mask",t)),n=dom.find(".confirm",t),r=dom.find(".cancel",t),i=0;i<this.levels.length;i++){var o=dom.templatize('\n      <div class="d-flex" style="line-height: 40px;">\n        <strong data-cascade-level="'.concat(i,'" data-cascade-name="{{name}}" class="font-16">{{placeholder}}</strong>\n        <span class="ml-auto material-icons font-18 position-relative" style="top: 12px;">navigate_next</span>\n      </div>\n    '),this.levels[i]);this.widgetLevel.appendChild(o),dom.bind(o,"click",function(t){var e,t=dom.ancestor(t.target,"div"),t=dom.find("strong",t),n=parseInt(t.getAttribute("data-cascade-level")),t=(t.getAttribute("data-cascade-value"),t.getAttribute("data-cascade-name"),null),r=dom.find('[data-cascade-level="'+(n-1)+'"]',a.widgetLevel);null!=r&&(e=r.getAttribute("data-cascade-value"),(t={})[r.getAttribute("data-cascade-name")]=e),a.renderValue(n,t);for(var i=n+1;i<a.levels.length;i++){var o=dom.find('[data-cascade-level="'+i+'"]',a.widgetLevel);o.setAttribute("data-cascade-value",""),o.innerText=a.levels[i].placeholder}})}return dom.bind(e,"click",function(t){a.close()}),dom.bind(r,"click",function(t){a.close()}),dom.bind(n,"click",function(t){for(var e=dom.find("strong",a.widgetLevel),n={},r=0;r<e.length;r++){var i=e[r],o=dom.model(i);n[i.getAttribute("data-cascade-name")]=o}a.success(n),a.close()}),setTimeout(function(){a.bottom.classList.add("in")},50),t},CascadePicker.prototype.renderValue=function(){var r=_asyncToGenerator(_regeneratorRuntime().mark(function t(n,e,r){var i,o,a,s,c,l=this;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null==(i=dom.find('[data-cascade-level="'+n+'"]',this.widgetLevel)))return t.abrupt("return");t.next=3;break;case 3:if(o=this.levels[n],this.widgetValue.innerHTML="",o.url){t.next=7;break}return t.abrupt("return");case 7:return e="function"==typeof o.params?o.params(e):o.params,t.next=10,xhr.promise({url:o.url,params:e});case 10:for(a=t.sent,s=0;s<a.length;s++)c={value:a[s][o.fields.value],text:a[s][o.fields.text]},c=dom.templatize('\n      <li class="list-group-item" data-cascade-value="{{value}}">{{text}}</li>\n    ',c),dom.model(c,a[s]),dom.bind(c,"click",function(t){var t=dom.ancestor(t.target,"li"),t=dom.model(t),e=(i.innerText=t[o.fields.text],i.setAttribute("data-cascade-value",t[o.fields.value]),dom.model(i,t),{});e[o.fields.value]=t[o.fields.value],l.renderValue(n+1,e,t)}),this.widgetValue.appendChild(c);case 12:case"end":return t.stop()}},t,this)}));return function(t,e,n){return r.apply(this,arguments)}}(),CascadePicker.prototype.show=function(t){t.appendChild(this.root()),this.renderValue(0)},CascadePicker.prototype.close=function(){var t=this;this.bottom.classList.remove("in"),this.bottom.classList.add("out"),setTimeout(function(){t.bottom.parentElement.remove()},300)},DistrictPicker.prototype.root=function(){function e(t){t=dom.ancestor(t.target,"div"),9==(t=dom.find("strong",t).getAttribute("data-model-chinese-district-code")).length?a.renderDistrict(t.substr(0,6)):a.renderDistrict(t.substr(0,t.length-2))}var a=this,t=dom.templatize('\n    <div class="popup-container">\n      <div class="popup-mask"></div>\n      <div class="popup-bottom district-picker">\n        <div class="popup-title">\n          <button class="cancel">取消</button>\n          <span class="value"></span>\n          <span class="unit">{{unit}}</span>\n          <button class="confirm">确认</button>\n        </div>\n        <div class="bottom-dialog-body">\n          <div style="padding: 4px 16px">\n            <div class="d-flex" style="line-height: 40px;">\n              <strong widget-id="widgetProvince" class="font-16">选择省份</strong>\n              <span class="ml-auto material-icons font-18 position-relative" style="top: 12px;">navigate_next</span>\n            </div>\n            <div class="d-flex" style="line-height: 40px;">\n              <strong widget-id="widgetCity" class="font-16">选择城市</strong>\n              <span class="ml-auto material-icons font-18 position-relative" style="top: 12px;">navigate_next</span>\n            </div>\n            <div class="d-flex" style="line-height: 40px;">\n              <strong widget-id="widgetCounty" class="font-16">选择区县</strong>\n              <span class="ml-auto material-icons font-18 position-relative" style="top: 12px;">navigate_next</span>\n            </div>\n            <div class="d-flex" style="line-height: 40px;">\n              <strong widget-id="widgetTown" class="font-16">选择街道/乡镇</strong>\n              <span class="ml-auto material-icons font-18 position-relative" style="top: 12px;">navigate_next</span>\n            </div>\n          </div>\n          <div style="border-top: 1px solid var(--color-divider);"></div>\n          <ul widget-id="widgetDistrict" class="list-group" style="height: 240px; overflow-y: auto;">\n          </ul>\n        </div>\n      </div>\n    </div>\n  ',this),n=(this.bottom=dom.find(".popup-bottom",t),this.district=dom.find("[widget-id=widgetDistrict]",t),this.province=dom.find("[widget-id=widgetProvince]",t),this.city=dom.find("[widget-id=widgetCity]",t),this.county=dom.find("[widget-id=widgetCounty]",t),this.town=dom.find("[widget-id=widgetTown]",t),dom.find(".popup-mask",t)),r=dom.find(".confirm",t),i=dom.find(".cancel",t);dom.find(".value",t),dom.bind(n,"click",function(t){a.close()}),dom.bind(i,"click",function(t){a.close()}),this.selections.province&&(this.province.setAttribute("data-model-chinese-district-code",this.selections.province.chineseDistrictCode),this.province.innerText=this.selections.province.chineseDistrictName),this.selections.city&&(this.city.setAttribute("data-model-chinese-district-code",this.selections.city.chineseDistrictCode),this.city.innerText=this.selections.city.chineseDistrictName),this.selections.county&&(this.county.setAttribute("data-model-chinese-district-code",this.selections.county.chineseDistrictCode),this.county.innerText=this.selections.county.chineseDistrictName),this.selections.town&&(this.town.setAttribute("data-model-chinese-district-code",this.selections.town.chineseDistrictCode),this.town.innerText=this.selections.town.chineseDistrictName),dom.bind(r,"click",function(t){var e={},n=a.province.getAttribute("data-model-chinese-district-code"),r=a.city.getAttribute("data-model-chinese-district-code"),i=a.county.getAttribute("data-model-chinese-district-code"),o=a.town.getAttribute("data-model-chinese-district-code");""!=n&&(e.province={chineseDistrictCode:n,chineseDistrictName:a.province.innerText}),""!=r&&(e.city={chineseDistrictCode:r,chineseDistrictName:a.city.innerText}),""!=i&&(e.county={chineseDistrictCode:i,chineseDistrictName:a.county.innerText}),""!=o&&(e.town={chineseDistrictCode:o,chineseDistrictName:a.town.innerText}),a.success(e),a.close()});return dom.bind(this.province.parentElement,"click",function(t){e(t)}),dom.bind(this.city.parentElement,"click",function(t){e(t)}),dom.bind(this.county.parentElement,"click",function(t){e(t)}),dom.bind(this.town.parentElement,"click",function(t){e(t)}),setTimeout(function(){a.bottom.classList.add("in")},50),t},DistrictPicker.prototype.renderDistrict=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark(function t(e){var n,r,i,o,a,s,c=this;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=n=null,e?t.next=13:(n="\n      and length(chndistcd) = 2\n    ",r=this.province,this.city.setAttribute("data-model-chinese-district-code",""),this.city.innerText="选择城市",this.county.setAttribute("data-model-chinese-district-code",""),this.county.innerText="选择区县",this.town.setAttribute("data-model-chinese-district-code",""),this.town.innerText="选择街道/乡镇",t.next=35);break;case 13:2!=e.length?t.next=22:(n="\n      and length(chndistcd) = 4 and substring(chndistcd, 1, 2) = '".concat(e,"'\n    "),r=this.city,this.county.setAttribute("data-model-chinese-district-code",""),this.county.innerText="选择区县",this.town.setAttribute("data-model-chinese-district-code",""),this.town.innerText="选择街道/乡镇",t.next=35);break;case 22:4!=e.length?t.next=29:(n="\n      and length(chndistcd) = 6 and substring(chndistcd, 1, 4) = '".concat(e,"'\n    "),r=this.county,this.town.setAttribute("data-model-chinese-district-code",""),this.town.innerText="选择街道/乡镇",t.next=35);break;case 29:6!=e.length?t.next=34:(n="\n      and length(chndistcd) = 9 and substring(chndistcd, 1, 6) = '".concat(e,"'\n    "),r=this.town,t.next=35);break;case 34:return t.abrupt("return");case 35:return t.next=37,xhr.promise({url:"/api/v3/common/script/stdbiz/gb/chinese_district/find",params:{_and_condition:n,_order_by:"convert(chndistnm using gbk) asc"}});case 37:for(i=t.sent,this.district.innerHTML="",o=0;o<i.length;o++)a=i[o],s=dom.templatize('\n      <li class="list-group-item">{{chineseDistrictName}}</li>\n    ',a),dom.model(s,a),dom.bind(s,"click",function(t){t=dom.ancestor(t.target,"li"),t=dom.model(t);r.innerText=t.chineseDistrictName,r.setAttribute("data-model-chinese-district-code",t.chineseDistrictCode),c.renderDistrict(t.chineseDistrictCode)}),this.district.appendChild(s);case 40:case"end":return t.stop()}},t,this)}));return function(t){return e.apply(this,arguments)}}(),DistrictPicker.prototype.show=function(t){t.appendChild(this.root()),this.renderDistrict()},DistrictPicker.prototype.close=function(){var t=this;this.bottom.classList.remove("in"),this.bottom.classList.add("out"),setTimeout(function(){t.bottom.parentElement.remove()},300)},EditableForm.prototype.render=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark(function t(e){var n;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.innerHTML="",t.next=3,this.root();case 3:n=t.sent,e.appendChild(n);case 5:case"end":return t.stop()}},t,this)}));return function(t){return e.apply(this,arguments)}}(),EditableForm.prototype.root=_asyncToGenerator(_regeneratorRuntime().mark(function t(){var e,n,r,i,o,a;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=dom.element('\n    <div class="gx-form"></div>\n  '),n=0;case 2:n<this.fields.length?(r=this.fields[n],i=null,"date"!==r.input?t.next=9:(i=this.buildDate(r),t.next=36)):t.next=40;break;case 9:"time"!==r.input?t.next=13:(i=this.buildTime(r),t.next=36);break;case 13:"bool"!==r.input?t.next=17:(i=this.buildSwitch(r),t.next=36);break;case 17:if("radio"===r.input)return t.next=20,this.buildRadio(r);t.next=23;break;case 20:i=t.sent,t.next=36;break;case 23:if("check"===r.input)return t.next=26,this.buildCheck(r);t.next=29;break;case 26:i=t.sent,t.next=36;break;case 29:if("select"===r.input)return t.next=32,this.buildSelect(r);t.next=35;break;case 32:i=t.sent,t.next=36;break;case 35:"hidden"===r.input?i=dom.templatize('\n        <input type="hidden" name="{{name}}">\n      ',r):"mobile"===r.input?i=this.buildMobile(r):"id"===r.input?i=this.buildId(r):"district"===r.input?i=this.buildDistrict(r):"ruler"===r.input?i=this.buildRuler(r):"images"===r.input?i=this.buildImages(r):"longtext"===r.input?(i=dom.templatize('\n        <div class="gx-form-group gx-row">\n          <label class="gx-form-label gx-24-06">{{title}}</label>\n          <div class="gx-24-18">\n            <textarea type="text" name="{{name}}" class="gx-form-control" placeholder="请填写"></textarea>\n          </div>\n        </div>\n      ',r),!0===this.readonly&&(dom.find("textarea",i).setAttribute("placeholder",""),dom.find("textarea",i).setAttribute("readonly",!0))):"icon"===r.input?(i=dom.templatize('\n        <div class="gx-form-group gx-row">\n          <label class="gx-form-label gx-24-06">{{title}}</label>\n          <div class="gx-24-18"></div>\n        </div>\n      ',r),o=r.create(r.value),i.children[1].appendChild(o)):"icons"===r.input?(i=dom.templatize('\n        <div class="gx-form-group gx-row">\n          <label class="gx-form-label gx-24-06">{{title}}</label>\n          <div class="gx-24-18"></div>\n        </div>\n      ',r),o=r.create(r.value),i.children[1].appendChild(o)):"rating"===r.input?(i=dom.templatize('\n        <div class="gx-form-group gx-row">\n          <label class="gx-form-label gx-24-06">{{title}}</label>\n          <div class="gx-24-18"></div>\n        </div>\n      ',r),a=r.create(r.value),i.children[1].appendChild(a)):(i=dom.templatize('\n        <div class="gx-form-group gx-row">\n          <label class="gx-form-label gx-24-06">{{title}}</label>\n          <div class="gx-24-18 d-flex">\n            <input type="text" name="{{name}}" class="gx-form-control" placeholder="请填写">\n            {{#if unit}}\n            <span class="ml-auto text-muted small mr-2 mt-2">{{unit}}</span>\n            {{/if}}\n          </div>\n        </div>\n      ',r),!0===this.readonly&&(dom.find("input",i).setAttribute("placeholder",""),dom.find("input",i).setAttribute("readonly",!0)));case 36:e.appendChild(i);case 37:n++,t.next=2;break;case 40:return t.abrupt("return",e);case 41:case"end":return t.stop()}},t,this)})),EditableForm.prototype.buildDate=function(t){var e=dom.templatize('\n    <div class="gx-form-group gx-row">\n      <label class="gx-form-label gx-24-06">{{title}}</label>\n      <div class="gx-24-18 d-flex">\n        <input type="text" class="gx-form-control" readonly placeholder="请选择...">\n        <input type="hidden" name="{{name}}">\n        <span class="gx-ml-auto gx-pos-relative gx-fs-18 fas fa-calendar" style="top: 5px; left: -2px;"></span>\n      </div>\n    </div>\n  ',t);return!0===this.readonly?e.querySelectorAll("input")[0].setAttribute("placeholder",""):dom.bind(e,"click",function(n){new Rolldate({title:t.title,confirm:function(t){var e=dom.ancestor(n.target,"div","gx-24-18");dom.find("input[type=text]",e).value=moment(t).format("YYYY年MM月DD日"),dom.find("input[type=hidden]",e).value=moment(t).format("YYYY-MM-DD HH:mm:ss")}}).show()}),e},EditableForm.prototype.buildTime=function(t){var e=dom.templatize('\n    <div class="gx-form-group gx-row">\n      <label class="gx-form-label gx-24-06">{{title}}</label>\n      <div class="gx-24-18 d-flex">\n        <input type="text" class="gx-form-control" readonly placeholder="请选择...">\n        <input type="hidden" name="{{name}}">\n        <span class="ml-auto material-icons font-16 position-relative" style="top: 5px; left: -2px;">schedule</span>\n      </div>\n    </div>\n  ',t);return!0===this.readonly?e.querySelectorAll("input")[0].setAttribute("placeholder",""):dom.bind(e,"click",function(n){new Rolldate({title:t.title,confirm:function(t){var e=dom.ancestor(n.target,"div","gx-24-18");dom.find("input[type=text]",e).value=moment(t).format("YYYY年MM月DD日"),dom.find("input[type=hidden]",e).value=moment(t).format("YYYY-MM-DD HH:mm:ss")}}).show()}),e},EditableForm.prototype.buildSwitch=function(t){return dom.templatize('\n    <div class="gx-form-group gx-row">\n      <label class="gx-form-label gx-24-06">{{title}}</label>\n      <div class="gx-24-18 d-flex pr-3 pl-3">\n        <label class="c-switch c-switch-label c-switch-pill c-switch-info mt-1" style="min-width: 48px;">\n        <input class="c-switch-input" value="T" name="{{name}}" type="checkbox">\n        <span class="c-switch-slider" data-checked="是" data-unchecked="否"></span>\n      </label>\n      </div>\n    </div>\n  ',t)},EditableForm.prototype.buildRadio=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark(function t(e){var n,r,i,o,a;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=dom.templatize('\n    <div class="gx-form-group gx-row">\n      <label class="gx-form-label gx-24-06">{{title}}</label>\n      <div class="gx-24-18 input-group pr-3 pl-3"></div>\n    </div>\n  ',e),!0===this.readonly)return n.children[1].innerText=e.text||"",t.abrupt("return",n);t.next=4;break;case 4:r=_createForOfIteratorHelper(e.options.values);try{for(r.s();!(i=r.n()).done;)(o=i.value).checked=o.checked||!1,a=dom.templatize('\n      <div class="form-check form-check-inline">\n        <input name="{{name}}" value="{{value}}" {{#if checked}}checked{{/if}} type="radio" class="form-check-input radio color-primary is-outline">\n        <label class="form-check-label" for="">{{text}}</label>\n      </div>\n    ',_objectSpread(_objectSpread({},o),{},{name:e.name})),n.children[1].appendChild(a)}catch(t){r.e(t)}finally{r.f()}return t.abrupt("return",n);case 7:case"end":return t.stop()}},t,this)}));return function(t){return e.apply(this,arguments)}}(),EditableForm.prototype.buildCheck=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark(function t(e){var n,r,i,o,a;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=dom.templatize('\n    <div class="gx-form-group gx-row">\n      <label class="gx-form-label gx-24-06">{{title}}</label>\n      <div class="gx-24-18 input-group pr-3 pl-3"></div>\n    </div>\n  ',e),!0===this.readonly)return n.children[1].innerText=e.text||"",t.abrupt("return",n);t.next=4;break;case 4:r=_createForOfIteratorHelper(e.options.values);try{for(r.s();!(i=r.n()).done;)(o=i.value).checked=o.checked||!1,a=dom.templatize('\n      <div class="form-check form-check-inline">\n        <input name="{{name}}" value="{{value}}" {{#if checked}}checked{{/if}} type="checkbox" class="form-check-input checkbox color-primary is-outline">\n        <label class="form-check-label" for="">{{text}}</label>\n      </div>\n    ',_objectSpread(_objectSpread({},o),{},{name:e.name})),n.children[1].appendChild(a)}catch(t){r.e(t)}finally{r.f()}return t.abrupt("return",n);case 7:case"end":return t.stop()}},t,this)}));return function(t){return e.apply(this,arguments)}}(),EditableForm.prototype.buildSelect=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark(function t(e){var n,r,i,o;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=dom.templatize('\n    <div class="gx-form-group gx-row">\n      <label class="gx-form-label gx-24-06">{{title}}</label>\n      <div class="gx-24-18 d-flex">\n        <input type="text" class="gx-form-control" readonly placeholder="请选择...">\n        <input type="hidden" name="{{name}}">\n        <span class="gx-ml-auto gx-pos-relative gx-fs-16 fas fa-chevron-down" style="top: 8px; left: -2px;"></span>\n      </div>\n    </div>\n  ',e),!0===this.readonly)return n.querySelectorAll("input")[0].setAttribute("placeholder",""),t.abrupt("return",n);t.next=4;break;case 4:if(!(r=e.values)&&e.url)return i=[],t.next=9,xhr.promise({url:e.url,params:{}});t.next=12;break;case 9:for(i=t.sent,r=[],o=0;o<i.length;o++)r.push({text:i[o][e.textField],value:i[o][e.valueField]});case 12:return dom.bind(n,"click",function(n){new Rolldate({title:e.title,format:"oo",values:r,confirm:function(t){var e=dom.ancestor(n.target,"div","gx-24-18");dom.find("input[type=text]",e).value=t.text,dom.find("input[type=hidden]",e).value=t.value}}).show()}),t.abrupt("return",n);case 14:case"end":return t.stop()}},t,this)}));return function(t){return e.apply(this,arguments)}}(),EditableForm.prototype.buildMobile=function(t){var t=dom.templatize('\n    <div class="gx-form-group gx-row">\n      <label class="gx-form-label gx-24-06">{{title}}</label>\n      <div class="gx-24-18 d-flex">\n        <input type="text" name="{{name}}" class="gx-form-control" readonly placeholder="请输入...">\n      </div>\n    </div>\n  ',t),e=dom.find("input",t);return!0===this.readonly?e.setAttribute("placeholder",""):dom.bind(t,"click",function(t){new Numpad({type:"mobile",success:function(t){e.value=t}}).show(document.body)}),t},EditableForm.prototype.buildId=function(t){var t=dom.templatize('\n    <div class="gx-form-group gx-row">\n      <label class="gx-form-label gx-24-06">{{title}}</label>\n      <div class="gx-24-18 d-flex">\n        <input type="text" name="{{name}}" class="gx-form-control" readonly placeholder="请输入...">\n      </div>\n    </div>\n  ',t),e=dom.find("input",t);return!0===this.readonly?e.setAttribute("placeholder",""):dom.bind(t,"click",function(t){new Numpad({type:"id",success:function(t){e.value=t}}).show(document.body)}),t},EditableForm.prototype.buildDistrict=function(t){var t=dom.templatize('\n    <div class="gx-form-group gx-row">\n      <label class="gx-form-label gx-24-06">{{title}}</label>\n      <div class="gx-24-18 d-flex">\n        <input type="text" name="{{name}}" class="gx-form-control" readonly placeholder="请选择...">\n        <span class="gx-ml-auto gx-pos-relative gx-fs-16 fas fa-chevron-down" style="top: 8px;left: -2px;"></span>\n      </div>\n    </div>\n  ',t),n=dom.find("input",t);return!0===this.readonly?n.setAttribute("placeholder",""):dom.bind(t,"click",function(t){new DistrictPicker({type:"id",success:function(t){var e="";t.province&&(e+=t.province.chineseDistrictName),t.city&&(e+=" "+t.city.chineseDistrictName),t.county&&(e+=" "+t.county.chineseDistrictName),t.town&&(e+=" "+t.town.chineseDistrictName),n.value=e,n.setAttribute("data-value",JSON.stringify(t))}}).show(document.body)}),t},EditableForm.prototype.buildRuler=function(e){var t=dom.templatize('\n    <div class="gx-form-group gx-row">\n      <label class="gx-form-label gx-24-06">{{title}}</label>\n      <div class="gx-24-18 d-flex">\n        <input type="text" name="{{name}}" class="gx-form-control" readonly placeholder="请选择...">\n        {{#if unit}}\n        <span class="gx-ml-auto gx-pos-relative gx-mr-8" style="top:6px;">{{unit}}</span>\n        {{/if}}\n        <span class="gx-ml-auto gx-pos-relative gx-fs-16 fas fa-ruler-horizontal" style="top: 8px;left: -2px;"></span>\n      </div>\n    </div>\n  ',e),n=dom.find("input",t);return!0===this.readonly?n.setAttribute("placeholder",""):dom.bind(t,"click",function(t){new PopupRuler({range:e.range||[30,150],height:70,success:function(t){n.value=t}}).show(document.body)}),t},EditableForm.prototype.buildImages=function(t){return dom.templatize('\n    <div class="gx-form-group row pb-2">\n      <label class="gx-form-label gx-24-06">{{title}}</label>\n      <div class="gx-24-18 d-flex">\n        <div class="d-flex align-items-center justify-content-center" \n             style="height: 80px; width: 80px; border: 1px solid #eee;">\n          <i class="fas fa-plus" style="color: #bbb;"></i>\n        </div>\n      </div>\n    </div>\n  ',t)},Numpad.prototype.root=function(){for(var n=this,t=dom.templatize('\n    <div class="popup-container">\n      <div class="popup-mask"></div>\n      <div class="popup-bottom numpad in">\n        <div class="popup-title">\n          <button class="cancel">取消</button>\n          <span class="value"></span>\n          <span class="unit">{{unit}}</span>\n          <button class="confirm">确认</button>\n        </div>\n        <div class="gx-d-flex gx-w-full" style="flex-wrap: wrap!important;">\n          <div class="gx-24-08" style="line-height: 48px;">\n            <button class="number">1</button>\n          </div>\n          <div class="gx-24-08" style="line-height: 48px;">\n            <button class="number">2</button>\n          </div>\n          <div class="gx-24-08" style="line-height: 48px;">\n            <button class="number">3</button>\n          </div>\n          <div class="gx-24-08" style="line-height: 48px;">\n            <button class="number">4</button>\n          </div>\n          <div class="gx-24-08" style="line-height: 48px;">\n            <button class="number">5</button>\n          </div>\n          <div class="gx-24-08" style="line-height: 48px;">\n            <button class="number">6</button>\n          </div>\n          <div class="gx-24-08" style="line-height: 48px;">\n            <button class="number">7</button>\n          </div>\n          <div class="gx-24-08" style="line-height: 48px;">\n            <button class="number">8</button>\n          </div>\n          <div class="gx-24-08" style="line-height: 48px;">\n            <button class="number">9</button>\n          </div>\n          <div class="gx-24-08" style="line-height: 48px;">\n            <button widget-id="buttonSpecial" class="number">.</button>\n          </div>\n          <div class="gx-24-08" style="line-height: 48px;">\n            <button class="number">0</button>\n          </div>\n          <div class="gx-24-08" style="line-height: 48px; font-size: 24px;">\n            <button class="number">\n              <i class="fas fa-backspace" style="font-size: 20px;"></i>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  ',this),e=(this.bottom=dom.find(".popup-bottom",t),dom.find(".popup-mask",t)),r=dom.find(".confirm",t),i=dom.find(".cancel",t),o=dom.find(".value",t),a=dom.find("[widget-id=buttonSpecial]",t),s=("id"==this.type?(a.innerText="X",this.regex=/^.{0,18}$/):"mobile"==this.type&&(a.remove(),this.regex=/^.{0,11}$/),t.querySelectorAll(".number")),c=0;c<s.length;c++){var l=s[c];dom.bind(l,"click",function(t){var e=o.innerText,t=t.currentTarget.innerText;if(""==t){if(""===e)return;e=e.substr(0,e.length-1)}else n.regex.test(e+t)&&(e+=t);o.innerText=e})}return dom.bind(e,"click",function(t){t.stopPropagation(),t.preventDefault(),n.close()}),dom.bind(i,"click",function(t){n.close()}),dom.bind(r,"click",function(t){n.success(o.innerText),n.close()}),t},Numpad.prototype.show=function(t){t.appendChild(this.root())},Numpad.prototype.close=function(){var t=this;this.bottom.classList.remove("in"),this.bottom.classList.add("out"),setTimeout(function(){t.bottom.parentElement.remove()},300)},PopupRuler.prototype.root=function(){var e=this,t=dom.templatize('\n    <div class="popup-container">\n      <div class="popup-mask"></div>\n      <div class="popup-bottom in">\n        <div class="popup-title">\n          <button class="cancel">取消</button>\n          <span class="value"></span>\n          <span class="unit">{{unit}}</span>\n          <button class="confirm">确认</button>\n        </div>\n        <div class="popup-content" style="height: 200px; width: 100%;"></div>\n      </div>\n    </div>\n  ',this),n=(this.bottom=dom.find(".popup-bottom",t),dom.find(".popup-mask",t)),r=dom.find(".confirm",t),i=dom.find(".cancel",t),o=dom.find(".value",t);return dom.bind(n,"click",function(t){t.stopPropagation(),t.preventDefault(),e.close()}),dom.bind(i,"click",function(t){e.close()}),dom.bind(r,"click",function(t){e.success(o.innerText),e.close()}),t},PopupRuler.prototype.show=function(t){var e=this.root(),t=(t.appendChild(e),dom.find(".popup-content",e)),n=dom.find(".value",e);n.innerText=this.value,ruler.initPlugin({el:t,startValue:this.value,maxScale:this.range[1],region:[this.range[0],this.range[1]],background:"#fff",color:"#E0E0E0",markColor:"#73B17B",isConstant:!0,success:function(t){n.innerText=t}})},PopupRuler.prototype.close=function(){var t=this;this.bottom.classList.remove("in"),this.bottom.classList.add("out"),setTimeout(function(){t.bottom.parentElement.remove()},300)};